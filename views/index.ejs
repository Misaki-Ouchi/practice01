<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <title>User list</title>
        <link rel="stylesheet" href="css/style.css">
    </head>
    <body>
        <table>
            <tr>
                <th>名前</th>
                <th>email</th>
                <th>更新</th>
                <th>削除</th>
            </tr>
            <p><a href="/create">ユーザーの追加</a></p>
        </table>
        <!--こちらに基礎課題で言われてる内容を記述しましょう。ここから-->
        <p id="textTag"></p>
        <!--こちらに基礎課題で言われてる内容を記述しましょう。ここまで-->
        <!-- 実務課題01 -->
        <input id="input" type="text">
        <button id="btn">ボタン</button>
        <p id="text1"></p>
        <!-- ここまで実務課題01 -->
        <script type="text/javascript">

            // 参考例
            let textTag = document.getElementById('textTag');
            let NUMBER = `<%= number %>`;
            textTag.innerHTML = NUMBER;
            // ここからはapp.jsで作成した値をここでブラウザに出力するように機能を実装していきましょう。上記の参考例を元にやってみましょう。
            // 基礎課題01:画面に表示する機能作りましょう。
            let TEXT = `<%= text %>`;
            textTag.innerHTML = TEXT;
            /*
            基礎課題02,03をやる前に
            配列とオブジェクトリストをapp.jsから取得するときに以下のやり方が必要になります。
            変数名は自由に決めてください。プロパティ名についてはapp.jsでオブジェクト内に格納したプロパティ名を使用してください。
            以下使用する際は<%#の「#」部分を「=」に変更するよう気をつけてください。%>
            let 変数名 = JSON.parse('<%# JSON.stringify(プロパティ名) %>'.replace(/&#34;/g, '"'));
            */

            // 基礎課題02:HTML内にulタグを作成し、liタグでapp.jsで作成した情報を画面に表示して下さい。
            // let LIST = JSON.parse('<%= JSON.stringify(list) %>'.replace(/&#34;/g, '"'));
            // let body = document.querySelector('body');
            // body.insertAdjacentHTML('beforeend', `<ul></ul>`);
            // let ul = document.querySelector('ul');
            // LIST.forEach(function (element) {
            //     ul.insertAdjacentHTML('beforeend', `<li>${element}</li>`);
            // })
            // 基礎課題03:作成したオブジェクトリストをブラウザに出力して下さい。その場合以下の様に出力して下さい。
            // 例）
            // name: s.chiba
            // email: s.chiba@gmail.com
            // let LIST2 = JSON.parse('<%= JSON.stringify(list2) %>'.replace(/&#34;/g, '"'));
            // LIST2.forEach(function (element) {
            //     ul.insertAdjacentHTML('beforeend', `<li>name: ${element.name}<br>email: ${element.email}</li>`);
            // })

            // 実務課題01
            let users = JSON.parse('<%= JSON.stringify(users) %>'.replace(/&#34;/g, '"'));
            body.insertAdjacentHTML('beforeend', `<ul></ul>`);
            let input = document.querySelector('#input');
            let btn = document.querySelector('#btn');
            let text1 = document.querySelector('#text1');
            function searchID() {
                users.forEach(function (element) {
                    if (Number(input.value) === element.id) {
                        text1.innerHTML = `名前：${element.name}<br>email：${element.email}`;
                        console.log(element);
                    }
                })
            }
            btn.addEventListener('click', searchID);
            // ここまで実務課題01

        </script>
    </body>
</html>
